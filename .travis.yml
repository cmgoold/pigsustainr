language: r
r: devel
cache: packages
warnings_are_errors: false
sudo: true

matrix:
    include:
        - os: linux
          addons:
            apt:
              sources:
                - ubuntu-toolchain-r-test
              packages:
                - g++-5
          env:
             - MATRIX_EVAL="CC=gcc-5 && CXX=g++-5"

before_install:
    - eval "${MATRIX_EVAL}"
    - echo "options(repos = c(CRAN = 'https://packagemanager.rstudio.com/all/__linux__/xenial/latest'))" >> ~/.Rprofile.site
    - echo "options(HTTPUserAgent = paste0('R/', getRversion(), ' R (',
               paste(getRversion(), R.version['platform'], R.version['arch'], R.version['os']),
               ')'))" >> ~/.Rprofile.site

notifications:
  email:
    on_success: change
    on_failure: change
